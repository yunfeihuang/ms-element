module.exports=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=133)}({0:function(e,t){e.exports=function(e,t,r,n,o,s){var i,a=e=e||{},u=typeof e.default;"object"!==u&&"function"!==u||(i=e,a=e.default);var c="function"==typeof a?a.options:a;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId=o);var l;if(s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):n&&(l=n),l){var f=c.functional,m=f?c.render:c.beforeCreate;f?(c._injectStyles=l,c.render=function(e,t){return l.call(t),m(e,t)}):c.beforeCreate=m?[].concat(m,l):[l]}return{esModule:i,exports:a,options:c}}},1:function(e,t){e.exports=require("babel-runtime/helpers/extends")},108:function(e,t,r){"use strict";var n=r(5),o=r.n(n),s=r(1),i=r.n(s),a=r(66);t.a={componentName:"ESignup",mixins:[a.default],props:{title:{type:String,default:"用户注册"},accountType:{type:Array,default:function(){return["mobile","email"]}},accountProps:{type:Object},passwordProps:{type:Object,default:function(){return{placeholder:"请设置密码"}}},accountRules:{type:Array,default:function(){return[]}},passwordRules:{type:Array,default:function(){return[{required:!0,message:"请设置密码"},{min:6,message:"密码不能小于6个字符"},{pattern:/^[a-zA-Z0-9_]+$/,message:"密码格式不正确,必须是数字或者字母"}]}},submitText:{type:String,default:"立即注册"},action:{type:String},customForm:{type:Object},onSubmit:{type:Function},accpetText:{type:String,default:"我已阅读并接受"}},computed:{placeholder:function(){var e={mobile:"手机号",email:"邮箱"};return"请输入"+this.accountType.map(function(t){return e[t]}).join("/")},isEmail:function(){return/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/.test(this.account)}},data:function(){return{loading:!1,errorMessage:"",form:i()({},this.customForm,{account:"",password:"",code:"",argument:!0})}},methods:{submit:function(){var e=this;this.action?new Promise(function(e){e()}).then(r.bind(null,4)).then(function(t){t.default({url:e.action,method:"POST",data:JSON.parse(o()(e.form)),options:{context:e,errorMsg:!1,successMsg:!1}}).then(function(t){e.$emit("success",t)}).catch(function(t){e.$emit("error",t),e.errorMessage=t.msg,e.$refs.imgCode&&e.$refs.imgCode.refresh()})}):this.onSubmit?this.onSubmit(JSON.parse(o()(this.form)),this).then(function(t){e.$emit("success",t)}).catch(function(t){e.$emit("error",t),e.errorMessage=t.msg,e.$refs.imgCode&&e.$refs.imgCode.refresh()}):this.$emit("success")}}}},133:function(e,t,r){e.exports=r(134)},134:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(108),o=r(135),s=r(0),i=s(n.a,o.a,!1,null,null,null);t.default=i.exports},135:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"e-signup"},[r("el-form",{ref:"form",attrs:{model:e.form},nativeOn:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[e.$slots.title?e._t("title"):r("legend",[e._v(e._s(e.title))]),e._t("prepend",null,null,{form:e.form}),r("el-form-item",{attrs:{prop:"account",rules:[{required:!0,message:e.placeholder}]}},[r("el-input",e._b({attrs:{placeholder:e.placeholder},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account","string"==typeof t?t.trim():t)},expression:"form.account"}},"el-input",e.accountProps,!1),[1==e.accountType.length&&e.accountType.indexOf("email")>-1?r("e-icon",{staticClass:"el-input__icon",attrs:{slot:"prefix"},slot:"prefix"},[e._v("")]):1==e.accountType.length&&e.accountType.indexOf("mobile")>-1?r("e-icon",{staticClass:"el-input__icon",attrs:{slot:"prefix"},slot:"prefix"},[e._v("")]):r("e-icon",{staticClass:"el-input__icon",attrs:{slot:"prefix"},slot:"prefix"},[e._v("")])],1)],1),r("el-form-item",{attrs:{prop:"code",rules:[{required:!0,message:"请输入验证码"}]}},[e.isEmail?r("e-email-code"):r("e-sms-code",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code","string"==typeof t?t.trim():t)},expression:"form.code"}})],1),r("el-form-item",{attrs:{prop:"password",rules:e.passwordRules}},[r("e-password",e._b({model:{value:e.form.password,callback:function(t){e.$set(e.form,"password","string"==typeof t?t.trim():t)},expression:"form.password"}},"e-password",e.passwordProps,!1))],1),e._t("append",null,null,{form:e.form}),e.$slots.argument?r("el-form-item",{staticClass:"is-argument",attrs:{prop:"argument"}},[r("el-checkbox",{model:{value:e.form.argument,callback:function(t){e.$set(e.form,"argument",t)},expression:"form.argument"}},[r("small",[e._v(e._s(e.accpetText))])]),e._t("argument")],2):e._e(),e.errorMessage?r("div",{staticClass:"el-form-item__error e-signup-error"},[r("el-alert",{attrs:{title:e.errorMessage,type:"error","show-icon":""}})],1):e._e(),r("el-button",{attrs:{type:"primary",disabled:!e.form.argument,loading:e.loading,"native-type":"submit"}},[e._v(e._s(e.submitText))])],2),e.$slots.links?r("div",{staticClass:"e-signup-links"},[e._t("links")],2):e._e()],1)},o=[],s={render:n,staticRenderFns:o};t.a=s},19:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{query:{type:[Number,Object,String,Array]},open:{type:Boolean,default:!0}},data:function(){return{fetching:!1}},mounted:function(){this.beforeFetch&&this.beforeFetch()},methods:{handleBackIn:function(){console.log("handleBackIn")},beforeFetch:function(){var e=this;if(this.open&&this.fetch){var t=this.fetch();if(t){this.fetching=!0;var r=null;this.$loading&&(r=this.$loading({target:this.$el,lock:!0}));var n=function(){r&&r.close&&r.close(),e.fetching=!1};t.then(n).catch(n)}}},handleClose:function(){this.$emit("close")}}}},3:function(e,t){e.exports=require("babel-runtime/core-js/object/assign")},4:function(e,t){e.exports=require("@axios")},5:function(e,t){e.exports=require("babel-runtime/core-js/json/stringify")},66:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=r.n(n),s=r(3),i=r.n(s),a=r(67),u=r(19);t.default={mixins:[u.default],props:{promiseSubmit:{type:Function}},data:function(){return{loading:!1,validator:a.a}},mounted:function(){this.createSubmitButton()},methods:{createSubmitButton:function(){var e=this.$el.querySelector("form");if(e&&!e.querySelector('button[type="submit"]')){var t=document.createElement("button");t.type="submit",t.style.display="none",e.appendChild(t)}},getFormProps:function(e){return i()({model:this.form,labelWidth:"6.66rem",novalidate:"novalidate",class:"form-default",size:"small"},e)},validate:function(e){var t=this;this.$refs.form&&this.$refs.form.validate&&this.$refs.form.validate(function(r){if(!r)return t.validateFail(),!1;e?e():t.beforeSubmit&&t.beforeSubmit()})},afterSubmit:function(){var e=this;!this.query&&this.resetForm(),this.$nextTick(function(){e.$emit("success").$emit("close")})},beforeSubmit:function(){var e=this;if(this.promiseSubmit){var t=this.promiseSubmit(JSON.parse(o()(this.form)));t&&t.then&&(this.loading=!0,t.then(function(){e.loading=!1,e.afterSubmit()}).catch(function(){e.loading=!1}))}else if(this.submit){var r=this.submit();r&&r.then&&r.then(function(){e.afterSubmit()})}},validateFail:function(){var e=this;this.$nextTick(function(){var t=e.$el.querySelector(".is-error");if(t){if(t.scrollIntoView){t.getBoundingClientRect().top<0&&t.scrollIntoView(!0)}var r=t.querySelectorAll("input,textarea");r&&1===r.length&&r[0].focus()}})},submit:function(){},handleSubmit:function(){this.validate()},resetForm:function(){this.$refs.form&&this.$refs.form.resetFields()}}}},67:function(e,t,r){"use strict";var n={email:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,mobile:/^1[3|4|5|6|7|8|9][0-9]{9}$/,phone:/^0\d{2,3}-?\d{7,8}$/,password:/^[A-Za-z0-9]{8,20}$/,gt0:/^(0*[1-9][0-9]*(\.[0-9]+)?|0+\.[0-9]*[1-9][0-9]*)$/,money:/^[0-9]+(\.[0-9]{1,2})?$/,ID:/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/};t.a={pattern:n,rule:{email:{pattern:n.email,message:"邮箱格式不正确"},phone:{pattern:n.phone,message:"电话号码格式不正确"},mobile:{pattern:n.mobile,message:"手机号码格式不正确"},gt0:{pattern:n.gt0,message:"请输入大于0的数字"},money:{pattern:n.money,message:"请输入有效的金额数字"},ID:{pattern:n.ID,message:"请输入有效的身份证号码"},password:{pattern:n.password,message:"密码格式不正确"}}}}});