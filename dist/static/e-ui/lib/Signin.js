module.exports=function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=130)}({0:function(e,t){e.exports=function(e,t,r,o,n,s){var i,a=e=e||{},c=typeof e.default;"object"!==c&&"function"!==c||(i=e,a=e.default);var u="function"==typeof a?a.options:a;t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),r&&(u.functional=!0),n&&(u._scopeId=n);var l;if(s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=l):o&&(l=o),l){var f=u.functional,m=f?u.render:u.beforeCreate;f?(u._injectStyles=l,u.render=function(e,t){return l.call(t),m(e,t)}):u.beforeCreate=m?[].concat(m,l):[l]}return{esModule:i,exports:a,options:u}}},1:function(e,t){e.exports=require("babel-runtime/helpers/extends")},107:function(e,t,r){"use strict";var o=r(5),n=r.n(o),s=r(1),i=r.n(s),a=r(66);t.a={mixins:[a.default],props:{title:{type:String,default:"用户登录"},accountType:{type:Array,default:function(){return["mobile","email"]}},accountProps:{type:Object},passwordProps:{type:Object,default:function(){return{placeholder:"请输入密码"}}},codeProps:{type:Object,default:function(){return{placeholder:"请输入验证码"}}},smsCodeProps:{type:Object},submitText:{type:String,default:"立即登录"},action:{type:String},customForm:{type:Object},onSubmit:{type:Function},accpetText:{type:String,default:"我已阅读并接受"}},data:function(){return{loading:!1,errorMessage:"",form:i()({},this.customForm,{account:"",password:"",code:"",smsCode:"",argument:!0})}},computed:{placeholder:function(){if(this.accountProps&&this.accountProps.placeholder)return this.accountProps.placeholder;var e={mobile:"手机号",email:"邮箱"};return"请输入"+this.accountType.map(function(t){return e[t]}).join("/")}},methods:{handleChange:function(){this.errorMessage=""},submit:function(){var e=this;this.action?new Promise(function(e){e()}).then(r.bind(null,4)).then(function(t){t.default({url:e.action,method:"POST",data:JSON.parse(n()(e.form)),options:{context:e,errorMsg:!1,successMsg:!1}}).then(function(t){e.$emit("success",t)}).catch(function(t){e.$emit("error",t),e.errorMessage=t.msg,e.$refs.imgCode&&e.$refs.imgCode.refresh()})}):this.onSubmit?this.onSubmit(JSON.parse(n()(this.form)),this).then(function(t){e.$emit("success",t)}).catch(function(t){e.$emit("error",t),e.errorMessage=t.msg,e.$refs.imgCode&&e.$refs.imgCode.refresh()}):this.$emit("success")}}}},130:function(e,t,r){e.exports=r(131)},131:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(107),n=r(132),s=r(0),i=s(o.a,n.a,!1,null,null,null);t.default=i.exports},132:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"e-signin"},[r("el-form",{ref:"form",attrs:{model:e.form},nativeOn:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[e.$slots.title?e._t("title"):r("legend",[e._v(e._s(e.title))]),e._t("prepend",null,null,{form:e.form}),r("el-form-item",{attrs:{prop:"account",rules:[{required:!0,message:e.placeholder}]}},[r("el-input",e._b({attrs:{placeholder:e.placeholder},on:{change:e.handleChange},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account","string"==typeof t?t.trim():t)},expression:"form.account"}},"el-input",e.accountProps,!1),[1==e.accountType.length&&e.accountType.indexOf("email")>-1?r("e-icon",{staticClass:"el-input__icon",attrs:{slot:"prefix"},slot:"prefix"},[e._v("")]):1==e.accountType.length&&e.accountType.indexOf("mobile")>-1?r("e-icon",{staticClass:"el-input__icon",attrs:{slot:"prefix"},slot:"prefix"},[e._v("")]):r("e-icon",{staticClass:"el-input__icon",attrs:{slot:"prefix"},slot:"prefix"},[e._v("")])],1)],1),e.passwordProps?r("el-form-item",{attrs:{prop:"password",rules:[{required:!0,message:e.passwordProps.placeholder}]}},[r("e-password",e._b({on:{change:e.handleChange},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password","string"==typeof t?t.trim():t)},expression:"form.password"}},"e-password",e.passwordProps,!1))],1):e._e(),e.smsCodeProps?r("el-form-item",{attrs:{prop:"smsCode",rules:[{required:!0,message:e.smsCodeProps.placeholder}]}},[r("e-sms-code",e._b({attrs:{to:e.form.account},model:{value:e.form.smsCode,callback:function(t){e.$set(e.form,"smsCode","string"==typeof t?t.trim():t)},expression:"form.smsCode"}},"e-sms-code",e.smsCodeProps,!1))],1):e._e(),e.codeProps?r("el-form-item",{attrs:{prop:"code",rules:[{required:!0,message:e.codeProps.placeholder}]}},[r("e-img-code",e._b({ref:"imgCode",model:{value:e.form.code,callback:function(t){e.$set(e.form,"code","string"==typeof t?t.trim():t)},expression:"form.code"}},"e-img-code",e.codeProps,!1))],1):e._e(),e.errorMessage?r("div",{staticClass:"el-form-item__error e-signin-error"},[r("el-alert",{attrs:{title:e.errorMessage,type:"error","show-icon":""}})],1):e._e(),e.$slots.argument?r("el-form-item",{staticClass:"is-argument",attrs:{prop:"argument"}},[r("el-checkbox",{model:{value:e.form.argument,callback:function(t){e.$set(e.form,"argument",t)},expression:"form.argument"}},[r("small",[e._v(e._s(e.accpetText))])]),e._t("argument")],2):e._e(),e._t("append",null,null,{form:e.form}),r("el-button",{attrs:{type:"primary",disabled:!e.form.argument,loading:e.loading,"native-type":"submit"}},[e._v(e._s(e.submitText))])],2),e.$slots.links?r("div",{staticClass:"e-signin-links"},[e._t("links")],2):e._e()],1)},n=[],s={render:o,staticRenderFns:n};t.a=s},19:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{query:{type:[Number,Object,String,Array]},open:{type:Boolean,default:!0}},data:function(){return{fetching:!1}},mounted:function(){this.beforeFetch&&this.beforeFetch()},methods:{handleBackIn:function(){console.log("handleBackIn")},beforeFetch:function(){var e=this;if(this.open&&this.fetch){var t=this.fetch();if(t){this.fetching=!0;var r=null;this.$loading&&(r=this.$loading({target:this.$el,lock:!0}));var o=function(){r&&r.close&&r.close(),e.fetching=!1};t.then(o).catch(o)}}},handleClose:function(){this.$emit("close")}}}},3:function(e,t){e.exports=require("babel-runtime/core-js/object/assign")},4:function(e,t){e.exports=require("@axios")},5:function(e,t){e.exports=require("babel-runtime/core-js/json/stringify")},66:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),n=r.n(o),s=r(3),i=r.n(s),a=r(67),c=r(19);t.default={mixins:[c.default],props:{promiseSubmit:{type:Function}},data:function(){return{loading:!1,validator:a.a}},mounted:function(){this.createSubmitButton()},methods:{createSubmitButton:function(){var e=this.$el.querySelector("form");if(e&&!e.querySelector('button[type="submit"]')){var t=document.createElement("button");t.type="submit",t.style.display="none",e.appendChild(t)}},getFormProps:function(e){return i()({model:this.form,labelWidth:"6.66rem",novalidate:"novalidate",class:"form-default",size:"small"},e)},validate:function(e){var t=this;this.$refs.form&&this.$refs.form.validate&&this.$refs.form.validate(function(r){if(!r)return t.validateFail(),!1;e?e():t.beforeSubmit&&t.beforeSubmit()})},afterSubmit:function(){var e=this;!this.query&&this.resetForm(),this.$nextTick(function(){e.$emit("success").$emit("close")})},beforeSubmit:function(){var e=this;if(this.promiseSubmit){var t=this.promiseSubmit(JSON.parse(n()(this.form)));t&&t.then&&(this.loading=!0,t.then(function(){e.loading=!1,e.afterSubmit()}).catch(function(){e.loading=!1}))}else if(this.submit){var r=this.submit();r&&r.then&&r.then(function(){e.afterSubmit()})}},validateFail:function(){var e=this;this.$nextTick(function(){var t=e.$el.querySelector(".is-error");if(t){if(t.scrollIntoView){t.getBoundingClientRect().top<0&&t.scrollIntoView(!0)}var r=t.querySelectorAll("input,textarea");r&&1===r.length&&r[0].focus()}})},submit:function(){},handleSubmit:function(){this.validate()},resetForm:function(){this.$refs.form&&this.$refs.form.resetFields()}}}},67:function(e,t,r){"use strict";var o={email:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,mobile:/^1[3|4|5|6|7|8|9][0-9]{9}$/,phone:/^0\d{2,3}-?\d{7,8}$/,password:/^[A-Za-z0-9]{8,20}$/,gt0:/^(0*[1-9][0-9]*(\.[0-9]+)?|0+\.[0-9]*[1-9][0-9]*)$/,money:/^[0-9]+(\.[0-9]{1,2})?$/,ID:/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/};t.a={pattern:o,rule:{email:{pattern:o.email,message:"邮箱格式不正确"},phone:{pattern:o.phone,message:"电话号码格式不正确"},mobile:{pattern:o.mobile,message:"手机号码格式不正确"},gt0:{pattern:o.gt0,message:"请输入大于0的数字"},money:{pattern:o.money,message:"请输入有效的金额数字"},ID:{pattern:o.ID,message:"请输入有效的身份证号码"},password:{pattern:o.password,message:"密码格式不正确"}}}}});