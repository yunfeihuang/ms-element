(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{b87O:function(t,s,e){},gyd3:function(t,s,e){"use strict";e.r(s);e("b87O");var r=e("omC7"),a=e.n(r),n=e("bS4n"),o=e.n(n),_={mixins:[e("5Jx7").a],props:{title:{type:String,default:"用户登录"},accountType:{type:Array,default:function(){return["mobile","email"]}},accountProps:{type:Object},passwordProps:{type:Object,default:function(){return{placeholder:"请输入密码"}}},codeProps:{type:Object,default:function(){return{placeholder:"请输入验证码"}}},smsCodeProps:{type:Object},submitText:{type:String,default:"立即登录"},action:{type:String},customForm:{type:Object},onSubmit:{type:Function},accpetText:{type:String,default:"我已阅读并接受"}},data:function(){return{loading:!1,errorMessage:"",form:o()({},this.customForm,{account:"",password:"",code:"",smsCode:"",argument:!0})}},computed:{placeholder:function(){if(this.accountProps&&this.accountProps.placeholder)return this.accountProps.placeholder;var t={mobile:"手机号",email:"邮箱"};return"请输入"+this.accountType.map(function(s){return t[s]}).join("/")}},methods:{handleChange:function(){this.errorMessage=""},submit:function(){var t=this;this.action?(this.loading=!0,this.$axios({url:this.action,method:"POST",data:JSON.parse(a()(this.form))}).then(function(s){t.loading=!1,t.$emit("success",s)}).catch(function(s){t.loading=!1,t.$emit("error",s),t.errorMessage=s.msg,t.$refs.imgCode&&t.$refs.imgCode.refresh()})):this.onSubmit?(this.loading=!0,this.onSubmit(JSON.parse(a()(this.form)),this).then(function(s){t.loading=!1,t.$emit("success",s)}).catch(function(s){t.loading=!1,t.$emit("error",s),t.errorMessage=s.msg,t.$refs.imgCode&&t.$refs.imgCode.refresh()})):this.$emit("success")}}},l=e("ToIM"),v={components:{ESignin:Object(l.a)(_,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"e-signin"},[e("el-form",{ref:"form",attrs:{model:t.form},nativeOn:{submit:function(s){return s.preventDefault(),t.handleSubmit(s)}}},[t.$slots.title?t._t("title"):e("legend",[t._v(t._s(t.title))]),t._v(" "),t._t("prepend",null,null,{form:t.form}),t._v(" "),e("el-form-item",{attrs:{prop:"account",rules:[{required:!0,message:t.placeholder}]}},[e("el-input",t._b({attrs:{placeholder:t.placeholder},on:{change:t.handleChange},model:{value:t.form.account,callback:function(s){t.$set(t.form,"account","string"==typeof s?s.trim():s)},expression:"form.account"}},"el-input",t.accountProps,!1),[1==t.accountType.length&&t.accountType.indexOf("email")>-1?e("e-icon",{staticClass:"el-input__icon",attrs:{slot:"prefix"},slot:"prefix"},[t._v("")]):1==t.accountType.length&&t.accountType.indexOf("mobile")>-1?e("e-icon",{staticClass:"el-input__icon",attrs:{slot:"prefix"},slot:"prefix"},[t._v("")]):e("e-icon",{staticClass:"el-input__icon",attrs:{slot:"prefix"},slot:"prefix"},[t._v("")])],1)],1),t._v(" "),t.passwordProps?e("el-form-item",{attrs:{prop:"password",rules:[{required:!0,message:t.passwordProps.placeholder}]}},[e("e-password",t._b({on:{change:t.handleChange},model:{value:t.form.password,callback:function(s){t.$set(t.form,"password","string"==typeof s?s.trim():s)},expression:"form.password"}},"e-password",t.passwordProps,!1))],1):t._e(),t._v(" "),t.smsCodeProps?e("el-form-item",{attrs:{prop:"smsCode",rules:[{required:!0,message:t.smsCodeProps.placeholder}]}},[e("e-sms-code",t._b({attrs:{to:t.form.account},model:{value:t.form.smsCode,callback:function(s){t.$set(t.form,"smsCode","string"==typeof s?s.trim():s)},expression:"form.smsCode"}},"e-sms-code",t.smsCodeProps,!1))],1):t._e(),t._v(" "),t.codeProps?e("el-form-item",{attrs:{prop:"code",rules:[{required:!0,message:t.codeProps.placeholder}]}},[e("e-img-code",t._b({ref:"imgCode",model:{value:t.form.code,callback:function(s){t.$set(t.form,"code","string"==typeof s?s.trim():s)},expression:"form.code"}},"e-img-code",t.codeProps,!1))],1):t._e(),t._v(" "),t.errorMessage?e("div",{staticClass:"el-form-item__error e-signin-error"},[e("el-alert",{attrs:{title:t.errorMessage,type:"error","show-icon":""}})],1):t._e(),t._v(" "),t.$slots.argument?e("el-form-item",{staticClass:"is-argument",attrs:{prop:"argument"}},[e("el-checkbox",{model:{value:t.form.argument,callback:function(s){t.$set(t.form,"argument",s)},expression:"form.argument"}},[e("small",[t._v(t._s(t.accpetText))])]),t._v(" "),t._t("argument")],2):t._e(),t._v(" "),t._t("append",null,null,{form:t.form}),t._v(" "),e("el-button",{attrs:{type:"primary",disabled:!t.form.argument,loading:t.loading,"native-type":"submit"}},[t._v(t._s(t.submitText))])],2),t._v(" "),t.$slots.links?e("div",{staticClass:"e-signin-links"},[t._t("links")],2):t._e()],1)},[],!1,null,null,null).exports}},i=Object(l.a)(v,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",[e("h1",[t._v("Signin 登录表单")]),t._v(" "),e("e-signin",[e("div",{attrs:{slot:"links"},slot:"links"},[t._v("\n    还没有注册账号？\n    "),e("router-link",{staticClass:"link",attrs:{to:"/signup"}},[t._v("立即注册")]),t._v(" ｜ \n    "),e("router-link",{staticClass:"link",attrs:{to:"/find-password"}},[t._v("忘记密码")])],1)]),t._v(" "),t._m(0),t._v(" "),e("h3",[t._v("Props")]),t._v(" "),t._m(1),t._v(" "),e("h3",[t._v("Events")]),t._v(" "),t._m(2),t._v(" "),e("h3",[t._v("Slots")]),t._v(" "),t._m(3)],1)},[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("template")]),t._v(">")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("e-signin")]),t._v(">")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("slot")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"links"')]),t._v(">")]),t._v("\n      还没有注册账号？\n      "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("router-link")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("to")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"/signup"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("class")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"link"')]),t._v(">")]),t._v("立即注册"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("router-link")]),t._v(">")]),t._v(" ｜ \n      "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("router-link")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("to")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"/find-password"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("class")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"link"')]),t._v(">")]),t._v("忘记密码"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("router-link")]),t._v(">")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("div")]),t._v(">")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("e-signin")]),t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("template")]),t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("script")]),t._v(">")]),e("span",{pre:!0,attrs:{class:"javascript"}},[t._v("\n  "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v("'e-ui/lib/style/theme/signin.scss'")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("import")]),t._v(" ESignin "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v("'e-ui/lib/signin'")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("default")]),t._v(" {\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("components")]),t._v(": {\n      ESignin\n    }\n  }\n")]),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("script")]),t._v(">")]),t._v("\n")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("说明")]),t._v(" "),e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("可选值")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("title")]),t._v(" "),e("td",[t._v("登录标题")]),t._v(" "),e("td",[t._v("String")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("用户登录")])]),t._v(" "),e("tr",[e("td",[t._v("accountProps")]),t._v(" "),e("td",[t._v("帐号输入框props")]),t._v(" "),e("td",[t._v("Object")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[t._v("accountType")]),t._v(" "),e("td",[t._v("帐号类型")]),t._v(" "),e("td",[t._v("Array")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("[‘email’, ‘mobile’]")])]),t._v(" "),e("tr",[e("td",[t._v("passwordProps")]),t._v(" "),e("td",[t._v("密码输入框props")]),t._v(" "),e("td",[t._v("Object")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[t._v("codeProps")]),t._v(" "),e("td",[t._v("验证码输入框props")]),t._v(" "),e("td",[t._v("Object")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[t._v("action")]),t._v(" "),e("td",[t._v("登录提交action")]),t._v(" "),e("td",[t._v("String")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("/signin")])]),t._v(" "),e("tr",[e("td",[t._v("submitText")]),t._v(" "),e("td",[t._v("登录按钮文本")]),t._v(" "),e("td",[t._v("String")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("立即登录")])]),t._v(" "),e("tr",[e("td",[t._v("accpetText")]),t._v(" "),e("td",[t._v("我已阅读并接受文本")]),t._v(" "),e("td",[t._v("String")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("我已阅读并接受")])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",[t._v("事件名称")]),t._v(" "),e("th",[t._v("说明")]),t._v(" "),e("th",[t._v("回调参数")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("success")]),t._v(" "),e("td",[t._v("表单提交成功事件")]),t._v(" "),e("td",[t._v("res")])]),t._v(" "),e("tr",[e("td",[t._v("error")]),t._v(" "),e("td",[t._v("表单提交失败事件")]),t._v(" "),e("td",[t._v("res")])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",[t._v("名称")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("title")]),t._v(" "),e("td",[t._v("标题")])]),t._v(" "),e("tr",[e("td",[t._v("links")]),t._v(" "),e("td",[t._v("底部链接")])]),t._v(" "),e("tr",[e("td",[t._v("argument")]),t._v(" "),e("td",[t._v("协议")])])])])}],!1,null,null,null);s.default=i.exports}}]);